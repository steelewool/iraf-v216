
\T=vt640
\G=vt640
print\s("----------------------\sTEST\sLOG\s13\s---------------------",>>\s
"testlog13")\n
print\s("",>>\s"testlog13")\n
time\s>>\stestlog13\n
set\sstdvdm\s=\stestplots13\n
print\s("\s\s\s\s\s\sTest\sPart\s13\s:\sIMSURFIT",>>\s"testlog13")\n
unlearn\simsurfit\n
unlearn\sgauss\n
gauss\soctagon\ssurftest\s5.\n
imarith\ssurftest\s+\sdelta\ssurftest\n
imarith\ssurftest\s*\s10.\ssurftest\n
hedit\ssurftest\stitle\s"test\simage\sfor\sIMSURFIT"\sver-\n
imsurfit\ssurftest\ssurf1\s3\s3\stype="fit"\n
hedit\ssurf1\stitle\s"3x3\slegendre\sfit"\sver-\n
surface\ssurf1\sdev=stdvdm\n
imsurfit\ssurftest\ssurf2\s3\s3\stype="response"\n
hedit\ssurf2\stitle\s"3x3\slegendre\sresponse"\sver-\n
surface\ssurf2\sdev=stdvdm\n
imsurfit\ssurftest\ssurf3\s3\s3\stype="residual"\n
hedit\ssurf3\stitle\s"3x3\slegendre\sresidual"\sver-\n
surface\ssurf3\sdev=stdvdm\n
imsurfit\ssurftest\ssurf4\s3\s3\sfunc="cheb"\stype="fit"\n
hedit\ssurf4\stitle\s"3x3\schebychev\sfit"\sver-\n
surface\ssurf4\sdev=stdvdm\n
imsurfit\ssurftest\ssurf5\s3\s3\sfunc="cheb"\stype="response"\n
hedit\ssurf5\stitle\s"3x3\schebychev\sresponse"\sver-\n
surface\ssurf5\sdev=stdvdm\n
imsurfit\ssurftest\ssurf6\s3\s3\sfunc="cheb"\stype="residual"\n
hedit\ssurf6\stitle\s"3x3\schebychev\sresidual"\sver-\n
surface\ssurf6\sdev=stdvdm\n
imsurfit\ssurftest\ssurf7\s3\s3\sfunc="spline3"\stype="fit"\n
hedit\ssurf7\stitle\s"3x3\sspline3\sfit"\sver-\n
surface\ssurf7\sdev=stdvdm\n
imsurfit\ssurftest\ssurf8\s3\s3\sfunc="spline3"\stype="response"\n
hedit\ssurf8\stitle\s"3x3\sspline3\sresponse"\sver-\n
surface\ssurf8\sdev=stdvdm\n
imsurfit\ssurftest\ssurf9\s3\s3\sfunc="spline3"\stype="residual"\n
hedit\ssurf9\stitle\s"3x3\sspline3\sresidual"\sver-\n
surface\ssurf9\sdev=stdvdm\n
imsurfit\ssurftest\ssurf10\s3\s3\sfunc="spline1"\stype="fit"\n
hedit\ssurf10\stitle\s"3x3\sspline1\sfit"\sver-\n
surface\ssurf10\sdev=stdvdm\n
imsurfit\ssurftest\ssurf11\s3\s3\sfunc="spline1"\stype="response"\n
hedit\ssurf11\stitle\s"3x3\sspline1\sresponse"\sver-\n
surface\ssurf11\sdev=stdvdm\n
imsurfit\ssurftest\ssurf12\s3\s3\sfunc="spline1"\stype="residual"\n
hedit\ssurf12\stitle\s"3x3\sspline1\sresidual"\sver-\n
surface\ssurf12\sdev=stdvdm\n
imsurfit\ssurftest\ssurf13\s3\s3\scross-\stype="fit"\n
hedit\ssurf13\stitle\s"3x3\slegendre\sfit\scross-"\sver-\n
imsurfit\ssurftest\ssurf14\s3\s3\sfunc="cheb"\scross-\stype="fit"\n
hedit\ssurf14\stitle\s"3x3\schebychev\sfit\scross-"\sver-\n
imsurfit\ssurftest\ssurf15\s3\s3\sniter=3\sup=1.5\slow=1.5\n
hedit\ssurf15\stitle\s"3x3\slegendre\sfit\sniter=3\sup=low=1.5"\sver-\n
imsurfit\ssurftest\ssurf16\s3\s3\sniter=3\sup=1.5\slow=1.5\sfunc="cheb"\n
hedit\ssurf16\stitle\s"3x3\schebychev\sfit\sniter=3\sup=low=1.5"\sver-\n
imsurfit\ssurftest\ssurf17\s3\s3\sniter=3\sup=1.5\slow=1.5\sfunc="spline3"\n
hedit\ssurf17\stitle\s"3x3\sspline3\sfit\sniter=3\sup=low=1.5"\sver-\n
imsurfit\ssurftest\ssurf18\s3\s3\sniter=3\sup=1.5\slow=1.5\sfunc="spline1"\n
hedit\ssurf18\stitle\s"3x3\sspline1\sfit\sniter=3\sup=low=1.5"\sver-\n
imsurfit\ssurftest\ssurf19\s3\s3\snit=3\sup=1.5\slow=1.5\sngrow=1\sfunc="cheb"\n
hedit\ssurf19\stitle\s"3x3\schebychev\sfit\sniter=3\sup=lo=1.5\sngrow=1"\sver-\n
implot\ssurftest\n
:
0
\s
,
$
\r
i
\s
s
u
r
f
1
\r
o
0
\s
,
$
\r
:
0
\s
,
$
\r
l
2
6
\r
:
0
\s
,
$
\r
i
\s
s
u
r
f
4
\r
o
0
\s
,
$
\r
:
0
\s
,
$
\r
l
2
6
\r
:
0
\s
,
$
\r
i
\s
s
u
r
f
7
\r
o
0
\s
,
$
\r
:
0
\s
,
$
\r
l
2
6
\r
:
0
\s
,
$
\r
i
\s
s
u
r
f
1
0
\r
o
0
\s
,
$
\r
:
0
\s
,
$
\r
l
2
6
\r
T
,
3
,
3
\r
C
h
e
b
y
\s
a
n
d
\s
L
e
g
\r
T
.
$
*
!
\r
s
p
l
i
n
e
1
\r
T
3
.
.
(
\r
s
p
l
i
n
e
3
\r
:
3
.
.
(
\r
.
w
r
\s
t
e
s
t
p
l
o
t
s
13
\r
:
3
.
.
(
\r
i
\s
s
u
r
f
t
e
s
t
\r
:
3
.
.
(
\r
l
2
6
\r
:
3
.
.
(
\r
i
\s
s
u
r
f
1
3
\r
o
3
.
.
(
\r
:
3
.
.
(
\r
l
2
6
\r
:
6
4
.
(
\r
i
\s
s
u
r
f
1
4
\r
o
6
4
.
(
\r
:
6
4
.
(
\r
l
2
6
\r
T
-
(
'
!
\r
C
h
e
b
y
c
h
e
v
\s
c
r
o
s
s
-
\r
T
-
(
*
5
\r
L
e
g
e
n
d
r
e
\s
c
r
o
s
s
-
\r
:
-
(
*
5
\r
.
w
r
\s
t
e
s
t
p
l
o
t
s
13
\r
:
-
(
*
5
\r
i
\s
s
u
r
f
t
e
s
t
\r
:
-
(
*
5
\r
l
2
6
\r
:
-
(
*
5
\r
i
\s
s
u
r
f
4
\r
o
-
(
*
5
\r
:
-
(
*
5
\r
l
2
6
\r
:
-
(
*
5
\r
i
\s
s
u
r
f
1
6
\r
o
-
(
*
5
\r
:
-
(
*
5
\r
l
2
6
\r
T
,
6
(
(
\r
C
h
e
b
y
c
h
e
v
\s
l
o
w
=
h
i
=
1
.
5
\s
n
i
t
e
r
=
3
\r
T
,
4
,
.
\r
C
h
e
b
y
c
h
e
v
\s
-
\s
n
o
\s
r
e
j
e
c
t
i
o
n
\r
:
,
4
,
.
\r
.
w
r
\s
t
e
s
t
p
l
o
t
s
13
\r
:
,
4
,
.
\r
i
\s
s
u
r
f
t
e
s
t
\r
:
,
4
,
.
\r
l
2
6
\r
:
,
4
,
.
\r
i
\s
s
u
r
f
1
\r
o
,
4
,
.
\r
:
,
4
,
.
\r
l
2
6
\r
:
,
4
,
.
\r
i
\s
s
u
r
f
1
5
\r
o
,
4
,
.
\r
:
,
4
,
.
\r
l
2
6
\r
T
,
4
,
/
\r
L
e
g
e
n
d
r
e
\s
-
\s
n
o
\s
r
e
j
e
c
t
i
o
n
\r
T
,
4
'
?
\r
L
e
g
e
n
d
r
e
\s
l
o
w
=
h
i
=
1
.
5
\s
n
i
t
e
r
=
3
\r
:
,
4
'
?
\r
.
w
r
\s
t
e
s
t
p
l
o
t
s
13
\r
:
-
(
%
9
\r
i
\s
s
u
r
f
t
e
s
t
\r
:
-
(
%
9
\r
l
2
6
\r
:
-
(
%
9
\r
i
\s
s
u
r
f
1
6
\r
o
-
(
%
9
\r
:
-
(
%
9
\r
l
2
6
\r
:
-
(
%
9
\r
i
\s
s
u
r
f
1
9
\r
o
-
(
%
9
\r
:
-
(
%
9
\r
l
2
6
\r
T
.
$
+
,
\r
n
g
r
o
w
\s
=
\s
1
\r
T
.
$
)
+
\r
n
g
r
o
w
\s
=
\s
0
\r
T
$
;
1
0
\r
C
h
e
b
y
c
h
e
v
\s
h
i
=
l
o
w
=
1
.
5
\s
n
i
t
e
r
=
3
\r
:
$
;
1
0
\r
.
w
r
\s
t
e
s
t
p
l
o
t
s
13
\r
:
$
;
1
0
\r
i
\s
s
u
r
f
t
e
s
t
\r
:
$
;
1
0
\r
l
2
6
\r
:
$
;
1
0
\r
i
\s
s
u
r
f
7
\r
o
$
;
1
0
\r
:
$
;
1
0
\r
l
2
6
\r
:
$
;
1
0
\r
i
\s
s
u
r
f
1
7
\r
o
$
;
1
0
\r
:
$
;
1
0
\r
l
2
6
\r
T
$
<
1
2
\r
S
p
l
i
n
e
3
\s
h
i
=
l
o
w
=
1
.
5
\s
n
i
t
e
r
=
3
\r
T
0
4
/
7
\r
n
g
r
o
w
\s
=
\s
1
\r
T
-
;
-
1
\r
n
g
r
o
w
=
0
\r
:
-
;
-
1
\r
.
w
r
\s
t
e
s
t
p
l
o
t
s
13
\r
:
-
;
-
1
\r
i
\s
s
u
r
f
t
e
s
t
\r
:
-
;
-
1
\r
l
2
6
\r
:
-
;
-
1
\r
i
\s
s
u
r
f
1
0
\r
o
-
;
-
1
\r
:
-
;
-
1
\r
l
2
6
\r
:
-
;
-
1
\r
i
\s
s
u
r
f
1
8
\r
o
-
;
-
1
\r
:
-
;
-
1
\r
l
2
6
\r
T
$
;
2
1
\r
S
p
l
i
n
e
1
\s
h
i
=
l
o
w
=
1
.
5
\s
n
i
t
e
r
=
3
\r
T
/
\s
,
!
\r
n
g
r
o
w
\s
=
\s
0
\r
g
T
.
#
)
&
\r
n
g
r
o
w
\s
=
\s
1
\r
:
-
;
-
1
\r
.
w
r
\s
t
e
s
t
p
l
o
t
s
13
\r
q
.
#
)
&
\r
clear\n
imsurfit\ssurftest\ssurf20\s3\s3\sfunc="spline3"\sxmed=3\symed=3\n
hedit\ssurf20\stitle\s"3x3\sspline3\sfit\s-\sxmed=ymed=3"\sver-\n
surface\ssurf20\sdev=stdvdm\n
imsurfit\ssurftest\ssurf21\s3\s3\sfunc="spline3"\sxmed=3\symed=3\smed=90\n
hedit\ssurf21\stitle\s"3x3\sspline3\sfit\s-\sxmed=ymed=3\smed=80"\sver-\n
surface\ssurf21\sdev=stdvdm\n
imsurfit\ssurftest\ssurf22\s3\s3\sfunc=cheb\sreg=rows\srows=20-30\n
hedit\ssurf22\stitle\s"3x3\scheb\sfit\s-\srows=20-30"\sver-\n
surface\ssurf22\sdev=stdvdm\n
imsurfit\ssurftest\ssurf23\s3\s3\sfunc=cheb\sreg=col\scol=10-25\n
hedit\ssurf23\stitle\s"3x3\scheb\sfit\s-\scols=10-25"\sver-\n
surface\ssurf23\sdev=stdvdm\n
imsurfit\ssurftest\ssurf24\s3\s3\sfunc=cheb\sreg=bor\sbor=15\n
hedit\ssurf24\stitle\s"3x3\scheb\sfit\s-\sborder=15"\sver-\n
surface\ssurf24\sdev=stdvdm\n
print\s("15\s35\s15\s35",>>\s"sec.lis")\n
imsurfit\ssurftest\ssurf25\s3\s3\sfunc=cheb\sreg=sec\ssec=sec.lis\n
hedit\ssurf25\stitle\s"3x3\scheb\sfit\s-\ssection=[15:35,15:35]"\sver-\n
surface\ssurf25\sdev=stdvdm\n
delete\ssec.lis\n
imsurfit\ssurftest\ssurf26\s3\s3\sfunc=cheb\sreg=cir\scir="26\s26\s15"\n
hedit\ssurf26\stitle\s"3x3\scheb\sfit\s-\scircle=26\s26\s15"\sver-\n
surface\ssurf26\sdev=stdvdm\n
imsurfit\ssurftest\ssurf27\s9\s9\sniter=1\sup=2\slow=2\sfunc=cheb\stype=clean\n
hedit\ssurf27\stitle\s"9x9\sscheb\sclean\sniter=1\sup=low=2"\sver-\n
surface\ssurf27\sdev=stdvdm\n
implot\ssurftest\n
:
,
9
,
$
\r
i
\s
s
u
r
f
2
7
\r
o
,
9
,
$
\r
:
,
9
,
$
\r
l
2
6
\r
T
,
9
*
(
\r
-
-
-
\s
C
l
e
a
n
e
d
\s
i
m
a
g
e
\r
D
,
9
+
4
\r
D
-
;
+
4
\r
T
.
)
+
,
\r
O
r
i
g
i
n
a
l
\s
I
m
a
g
e
\r
:
-
;
-
1
\r
.
w
r
\s
t
e
s
t
p
l
o
t
s
13
\r
q
.
)
+
,
\r
imdelete\ssurf*.fits\sver-\n
print\s("------\sEnd\sof\sTest\sPart\s13\s-------",>>\s"testlog13")\n
stty\splayback=test14.images\n      #comment out this line to stop test here
#stty\sclear\slogin\n               #uncomment this line to stop test here
