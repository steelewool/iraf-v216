\T=vt640
\G=vt640
print\s("----------------------\sTEST\sLOG\s12\s---------------------",>>\s
"testlog12")\n
print\s("",>>\s"testlog12")\n
time\s>>\stestlog12\n
set\sstdvdm\s=\stestplots12\n
print\s("\s\s\s\s\s\sTest\sPart\s12\s:IMCOMBINE\sIMREPLACE\sIMSUM\sIMDIVIDE\s",>>\s"testlog12")\n
unlearn\simcombine\n
imcopy\sbrick\sctest001\n
imcopy\sbrick2\sctest002\n
imcopy\soctagon\sctest003\n
imcopy\soctagon2\sctest004\n
imcopy\sdelta\sctest005\n
imcopy\sdelta2\sctest006\n
hedit\sctest001\sitime\s60\sadd+\sver-\n
hedit\sctest002\sitime\s90\sadd+\sver-\n
hedit\sctest003\sitime\s120\sadd+\sver-\n
hedit\sctest004\sitime\s150\sadd+\sver-\n
hedit\sctest005\sitime\s180\sadd+\sver-\n
hedit\sctest006\sitime\s210\sadd+\sver-\n
unlearn\simarith\n
imarith\sctest00*.fits\s*\s3.\sctest0%0%1%*.fits\shparam="itime"\n
imcombine\sctest*.fits\scomb1\scombine="average"\slogfile="testlog12"\n
hedit\scomb1\stitle\s"IMCOMBINE\scombine=average"\sver-\n
imcombine\sctest*.fits\scomb2\scombine=median\slogfile="testlog12"\n
hedit\scomb2\stitle\s"IMCOMBINE\scombine=median"\sver-\n
imcombine\sctest*.fits\scomb3\scombine="median"\slogfile="testlog12"\n
hedit\scomb3\stitle\s"IMCOMBINE\scombine=median"\sver-\n
imcombine\sctest*.fits\scomb4\sreject="minmax"\slogfile="testlog12"\n
hedit\scomb4\stitle\s"IMCOMBINE\sreject=minmax"\sver-\n
imcombine\sctest*.fits\scomb5\sreject="minmax"\snlow=1\snhigh=0\slogfile="testlog12"\n
hedit\scomb5\stitle\s"IMCOMBINE\sreject=minmax\snlow=1\snhigh=0"\sver-\n
imcombine\sctest*.fits\scomb6\sreject="minmax"\snlow=0\snhigh=1\slogfile="testlog12"\n
hedit\scomb6\stitle\s"IMCOMBINE\sreject=minmax\snlow=0\snhigh=1"\sver-\n
imcombine\sctest*.fits\scomb7\slthreshold=3.5\shthreshold=9.\slogfile="testlog12"\n
hedit\scomb7\stitle\s"IMCOMBINE\slthreshold=3.5\shtreshold=9."\sver-\n
imcombine\sctest*.fits\scomb8\sreject="sigclip"\slogfile="testlog12"\n
hedit\scomb8\stitle\s"IMCOMBINE\sreject=sigclip"\sver-\n
imcombine\sctest*.fits\scomb9\sreject="avsigclip"\slogfile="testlog12"\n
hedit\scomb9\stitle\s"IMCOMBINE\sreject=avsigclip"\sver-\n
surface\scomb1\sdev=stdvdm\n
implot\scomb2\n
:
0
\s
,
&
\r
y
\s
-
.
1
\s
2
.
\r
o
0
\s
"
\r
i
\s
c
o
m
b
1
\r
:
0
\s
(
"
\r
l
2
6
\r
T
0
\s
(
"
\r
m
e
d
i
a
n
\r
T
0
\s
2
,
\r
a
v
e
r
a
g
e
\r
:
0
\s
2
'
\r
.
w
r
\s
t
e
s
t
p
l
o
t
s
12
\r
q
0
\s
%
*
\r
surface\scomb3\sdev=stdvdm\n
implot\scomb1\n
:
0
\s
%
*
\r
y
\s
-
.
1
\s
2
.
\r
:
0
\s
%
*
\r
i
\s
c
o
m
b
4
\r
o
0
\s
%
*
\r
l
2
6
\r
:
0
\s
%
*
\r
i
\s
c
o
m
b
5
\r
o
0
\s
%
*
\r
:
0
\s
%
*
\r
l
2
6
\r
o
0
\s
%
*
\r
:
0
\s
%
*
\r
i
\s
c
o
m
b
6
\r
o
0
\s
%
*
\r
:
0
\s
%
*
\r
l
2
6
\r
T
-
&
*
8
\r
m
i
n
m
a
x
\s
h
i
g
h
\r
T
-
!
-
$
\r
m
i
n
m
a
x
\r
T
-
!
.
7
\r
A
v
e
r
a
g
e
\r
T
-
!
1
*
\r
M
i
n
m
a
x
\s
l
o
w
\r
:
-
!
1
*
\r
.
w
r
\s
t
e
s
t
p
l
o
t
s
12
\r
q
-
!
1
*
\r
surface\scomb7\sdev=stdvdm\n
implot\scomb1\n
:
0
\s
,
$
\r
y
\s
-
.
1
\s
2
.
1
\r
:
0
\s
,
$
\r
i
\s
c
o
m
b
8
\r
o
0
\s
,
$
\r
:
0
\s
,
$
\r
l
2
6
\r
:
0
\s
,
$
\r
i
\s
c
o
m
b
9
\r
o
0
\s
,
$
\r
:
0
\s
,
$
\r
l
2
6
\r
H
0
\s
,
$
\r
T
,
9
-
#
\r
s
i
g
c
l
i
p
\s
&
\s
a
v
s
i
g
c
l
i
p
\r
T
,
9
2
>
\r
A
v
e
r
a
g
e
\r
:
,
9
2
>
\r
.
w
r
\s
t
e
s
t
p
l
o
t
s
12
\r
q
,
9
2
>
\r
imcombine\sctest*.fits\scomb10\souttype="short"\slogfile="testlog12"\n
hedit\scomb10\stitle\s"IMCOMBINE\sout=short"\sver-\n
imcombine\sctest*.fits\scomb11\souttype="long"\slogfile="testlog12"\n
hedit\scomb11\stitle\s"IMCOMBINE\sout=long"\sver-\n
imcombine\sctest*.fits\scomb12\souttype="double"\slogfile="testlog12"\n
hedit\scomb12\stitle\s"IMCOMBINE\sout=double"\sver-\n
imcombine\sctest*.fits\scomb13\souttype="integer"\slogfile="testlog12"\n
hedit\scomb13\stitle\s"IMCOMBINE\sout=integer"\sver-\n
print\s("",>>\s"testlog12")\n
imhead\scomb1![0-3].fits\s>>\stestlog12\n
imcombine\sctest*.fits\scomb14\sexpn="itime"\sscale="exp"\slogfile="testlog12"\n
hedit\scomb14\stitle\s"IMCOMBINE\sscale=exposure"\sver-\n
surface\scomb14\sdev=stdvdm\n
imcombine\sctest*.fits\scomb15\sscale="mode"\slogfile="testlog12"\n
hedit\scomb15\stitle\s"IMCOMBINE\sscale=mode"\sver-\n
surface\scomb15\sdev=stdvdm\n
imcombine\sctest*.fits\scomb16\soffsets="grid\s5\s10\s5\s10"\slogfile="testlog12"\n
hedit\scomb16\stitle\s"IMCOMBINE\soffsets=grid\s5\s10\s5\s10"\sver-\n
surface\scomb16\sdev=stdvdm\n
imcombine\sctest*.fits\scomb17\sscale="mode"\sstatsec="[20:30,20:30]"\slogfile="testlog12"\n
hedit\scomb17\stitle\s"IMCOMBINE\sscale=mode\sstatsec=[20:30,20:30]"\sver-\n
surface\scomb17\sdev=stdvdm\n
imcombine\sctest*.fits\scomb18\sscale="exp"\sexpn="itime"\sweight="mean"\slogfile="testlog12"\n
hedit\scomb18\stitle\s"IMCOMBINE\sscale=exp\sweight=mean"\sver-\n
surface\scomb18\sdev=stdvdm\n
imcombine\sctest*.fits\scomb19\ssigma="sigma19"\slogfile="testlog12"\n
hedit\scomb19\stitle\s"IMCOMBINE\ssigma=sigma19"\sver-\n
surface\ssigma19\sdev=stdvdm\n
print\s("",>>\s"testlog12")\n
unlearn\simstatistics\n
imstatistics\scomb1![4-8]*.fits\s>>\stestlog12\n
print\s("",>>\s"testlog12")\n
imdelete\scomb*.fits,ctest01*.fits,sigma*.fits\sver-\n
unlearn\simdivide\n
imcopy\sbrick2\snum\sver-\n
imcopy\soctagon\sdenom\sver-\n
noao\n
unlearn\simreplace\n
imreplace\snum,denom\s0.\supper=.1\n
bye\n
imstat\snum,denom\s>>\stestlog12\n
imdivide\snum\sdenom\sdiv1\n
imdivide\snum\sdenom\sdiv2\stitle="num\s/\sdenom"\n
imdivide\snum\sdenom\sdiv3\sconst=-1.\stitle="num\s/\sdenom,\sconst=-1"\n
imdivide\snum\sdenom\sdiv4\sconst=-1.\sresc="no"\s\\\n
title="num\s/\sdenom,\sconst=-1,\srescale=no"\n
imdivide\snum\sdenom\sdiv5\sresc="no"\stitle="num\s/\sdenom,\srescale=no"\n
imdivide\snum\sdenom\sdiv6\sresc="m"\s\\\n
title="num\s/\sdenom,\srescale=mean=1."\n
imdivide\snum\sdenom\sdiv7\sresc="m"\smean=100.\s\\\n
title="num\s/\sdenom,\srescale=mean=100."\n
print\s("",>>\s"testlog12")\n
imstat\sdiv*.fits\s>>\stestlog12\n
surface\sdiv1\sdev=stdvdm\n
surface\sdiv3\sdev=stdvdm\n
surface\sdiv4\sdev=stdvdm\n
imdelete\sdiv*.fits,num,denom\sver-\n
unlearn\simsum\n
print\s("",>>\s"testlog12")\n
imsum\sctest00*.fits\ssum1\stitle="imsum\sctest00*"\n
imsum\sctest00*.fits\ssum2\shparam="itime"\stitle="imsum\sctest00*,\shparam=itime"\n
imhead\ssum2\sl+\s>>\stestlog12\n
imsum\sctest00*.fits\ssum3\spixt="s"\stitle="imsum\sctest00*,\spixt=s"\n
imsum\sctest00*.fits\ssum4\spixt="l"\stitle="imsum\sctest00*,\spixt=l"\n
imsum\sctest00*.fits\ssum5\spixt="i"\stitle="imsum\sctest00*,\spixt=i"\n
imsum\sctest00*.fits\ssum6\spixt="d"\stitle="imsum\sctest00*,\spixt=d"\n
imsum\sctest00*.fits\ssum7\scalc="s"\spixt="r"\stitle="imsum\sctest00*,\scalc=s"\n
imsum\sctest00*.fits\ssum8\sopt="average"\stitle="imsum\sctest00*,\sopt=average"\n
imsum\sctest00*.fits\ssum9\slo=2\shi=2\stitle="imsum\sctest00*,\slo=hi=2"\n
imsum\sctest00*.fits\ssum10\slo=3\shi=2\stitle="imsum\sctest00*,\slo=3\shi=2"\n
print\s("",>>\s"testlog12")\n
imsum\sctest00*.fits\ssum11\sver+\stitle="imsum\sctest00*"\s>>\stestlog12\n
print\s("",>>\s"testlog12")\n
imhead\ssum![3-7].fits\s>>\stestlog12\n
print\s("",>>\s"testlog12")\n
imstat\ssum*.fits\s>>\stestlog12\n
surface\ssum1\sdev=stdvdm\n
surface\ssum7\sdev=stdvdm\n
surface\ssum9\sdev=stdvdm\n
surface\ssum10\sdev=stdvdm\n
imdelete\ssum*.fits,ctest*.fits\sver-\n
print\s("------\sEnd\sof\sTest\sPart\s12\s-------",>>\s"testlog12")\n
stty\splayback=test13.images\n      #comment out this line to stop test here
#stty\sclear\slogin\n               #uncomment this line to stop test here
