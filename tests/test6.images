\T=vt640
\G=vt640
print\s("----------------------\sTEST\sLOG\s6\s---------------------",>>\s
"testlog6")\n
print\s("",>>\s"testlog6")\n
time\s>>\stestlog6\n
set\sstdvdm\s=\stestplots6\n
print\s("\s\s\s\sTest\sPart\s6\s:\sIMARITH\sIMSHIFT\sROTATE\sIMLINTRAN\sMAGNIFY\sREGISTER",>>\s"testlog6")\n
print\s("Building\sGeomap\sOutput\sfiles")\n
unlearn\sgeomap\n
geomap\srefpts_shift\sgmapshift\s1\s256\s1\s256\sinter=no\n
geomap\srefpts_rot\sgmaprot\s1\s256\s1\s256\sinter=no\n
geomap\srefpts_xmag\sgmapxmag\s1\s511\s1\s256\sinter=no\n
geomap\srefpts_ymag\sgmapymag\s1\s256\s1\s511\sinter=no\n
geomap\srefpts_arb1\sgmaparb1\s1\s256\s1\s256\sinter=no\n
geomap\srefpts_arb2\sgmaparb2\s1\s307\s1\s409\sinter=no\n
geomap\srefpts_arb2\sgmaparb3\s1\s307\s1\s409\scalc="double"\sinter=no\n
geomap\srefpts_arb2\sgmaparb4\s1\s307\s1\s409\sfunc="leg"\sinter=no\n
geomap\srefpts_arb2\sgmaparb5\s1\s307\s1\s409\sfunc="cheb"\sinter=no\n
geomap\srefpts_arb2\sgmaparb6\s1\s307\s1\s409\sxxt=full\syxt=full\sinter=no\n
geomap\srefpts_arb2\sgmaparb7\s1\s307\s1\s409\sxxt=full\syxt=full\srej=1.\sinter=no\n
geomap\srefpts_arb2\sgmaparb8\s1\s307\s1\s409\sxxo=3\sxyo=3\syxo=3\syyo=3\s\\\n
xxt=full\syxt=full\sinter=no\n
blkavg\sdev$pix\stestpix\s2\s2\sopt=sum\n
imhead\stestpix\n
print\s("Testing\sImarith",>>\s"testlog6")\n
unlearn\simarith\n
imarith\stestpix\s+\s0.\stestpix\spixt=r\n
imhead\stestpix\n
unlearn\simshift\n
print\s("Testing\sImshift",>>\s"testlog6")\n
imshift\stestpix\stestpixshift\s5.3\s6.2\n
unlearn\srotate\n
print\s("Testing\sRotate",>>\s"testlog6")\n
rotate\stestpix\stestpixrot\s15.\n
unlearn\simlintran\n
print\s("Testing\sImlintran",>>\s"testlog6")\n
imlintran\stestpix\stestpixarb1\s15.\s15.\s1.\s1.\sxout=123.2\syout=122.3\n
print\s("Testing\sMagnify",>>\s"testlog6")\n
unlearn\smagnify\n
magnify\stestpixarb1\stestpixarb2\s1.2\s1.6\n
unlearn\smagnify\n
magnify\stestpix\stestpixxmag\s2.\s1.\n
magnify\stestpix\stestpixymag\s1.\s2.\n
print\s("Testing\sRegister",>>\s"testlog6")\n
unlearn\sgregister\n
gregister\stestpixshift\stestpixtshift\sgmapshift\srefpts_shift\n
gregister\stestpixshift\stestpixtshift2\sgmapshift\srefpts_shift\sboundary=reflect\sflux-\n
gregister\stestpixshift\stestpixtshift3\sgmapshift\srefpts_shift\sboundary=wrap\n
gregister\stestpixrot\stestpixtrot\sgmaprot\srefpts_rot\n
gregister\stestpixrot\stestpixtrot2\sgmaprot\srefpts_rot\sinter=nearest\sflux-\n
gregister\stestpixxmag\stestpixtxmag\sgmapxmag\srefpts_xmag\snl=256\snc=256\s\\\n
xmax=256\n
gregister\stestpixxmag\stestpixtxmag2\sgmapxmag\srefpts_xmag\snl=256\snc=256\sxmax=256\sinter=poly3\n
gregister\stestpixymag\stestpixtymag\sgmapymag\srefpts_ymag\snl=256\snc=256\symax=256\n
gregister\stestpixymag\stestpixtymag2\sgmapymag\srefpts_ymag\snl=256\snc=256\symax=256\sinter=poly5\n
gregister\stestpixymag\stestpixtymag3\sgmapymag\srefpts_ymag\snl=256\snc=256\symax=256\sinter=spline3\n
gregister\stestpixarb1\stestpixtarb1\sgmaparb1\srefpts_arb1\n
gregister\stestpixarb2\stestpixtarb2\sgmaparb2\srefpts_arb2\snl=256\snc=256\s\\\n
xmax=256\symax=256\n
gregister\stestpixarb2\stestpixtarb3\sgmaparb3\srefpts_arb2\snl=256\snc=256\s\\\n
xmax=256\symax=256\n
gregister\stestpixarb2\stestpixtarb4\sgmaparb4\srefpts_arb2\snl=256\snc=256\s\\\n
xmax=256\symax=256\n
gregister\stestpixarb2\stestpixtarb5\sgmaparb5\srefpts_arb2\snl=256\snc=256\s\\\n
xmax=256\symax=256\n
gregister\stestpixarb2\stestpixtarb6\sgmaparb6\srefpts_arb2\snl=256\snc=256\s\\\n
xmax=256\symax=256\n
gregister\stestpixarb2\stestpixtarb7\sgmaparb7\srefpts_arb2\snl=256\snc=256\s\\\n
xmax=256\symax=256\n
gregister\stestpixarb2\stestpixtarb8\sgmaparb8\srefpts_arb2\snl=256\snc=256\s\\\n
xmax=256\symax=256\n
hedit\stestpixtarb3\stitle\s"geomap\scalctype\s=\sdouble"\sver-\n
hedit\stestpixtarb4\stitle\s"geomap\sfunction\s=\slegendre"\sver-\n
hedit\stestpixtarb5\stitle\s"geomap\sfunction\s=\schebyshev"\sver-\n
hedit\stestpixtarb6\stitle\s"geomap\sxterms\s=\syes"\sver-\n
hedit\stestpixtarb7\stitle\s"geomap\sxterms\s=\syes,\srej=1."\sver-\n
hedit\stestpixtarb8\stitle\s\\\n
"geomap\sxterms\s=\syes,\sorder\s=\s5,\sfunc=poly"\sver-\n
implot\stestpix\n
:
-
>
/
)
\r
.
t
x
q
u
a
l
\s
h
i
g
h
\r
:
-
>
/
)
\r
l
1
2
8
\r
:
-
>
/
)
\r
x
\s
7
5
\s
1
7
5
\r
:
-
>
/
)
\r
y
\s
0
\s
1
0
0
0
0
\r
:
-
>
/
)
\r
i
\s
t
e
s
t
p
i
x
s
h
i
f
t
\r
o
-
>
/
)
\r
:
-
>
/
)
\r
l
1
2
8
\r
:
-
>
/
)
\r
i
\s
t
e
s
t
p
i
x
t
s
h
i
f
t
\r
o
-
>
/
)
\r
:
-
>
/
)
\r
l
1
2
8
\r
T
'
;
3
.
\r
O
r
i
g
i
n
a
l
\s
I
m
a
g
e
\r
T
'
;
1
/
\r
S
h
i
f
t
e
d
\s
I
m
a
g
e
\r
T
'
;
/
'
\r
R
e
c
t
i
f
i
e
d
\s
I
m
a
g
e
\r
D
%
3
3
3
\r
D
'
(
3
3
\r
D
%
0
1
3
\r
D
%
>
1
3
\r
D
&
(
1
3
\r
D
&
4
1
3
\r
D
&
;
1
3
\r
D
'
+
1
3
\r
D
%
,
/
,
\r
D
%
4
/
,
\r
D
%
;
/
,
\r
D
&
#
/
,
\r
D
&
+
/
,
\r
D
&
3
/
,
\r
D
&
;
/
,
\r
D
'
#
/
,
\r
:
&
>
.
\s
\r
.
w
r
\s
t
e
s
t
p
l
o
t
s
6
\r
:
&
>
.
\s
\r
i
\s
t
e
s
t
p
i
x
\r
:
&
>
.
\s
\r
l
1
2
8
\r
:
&
>
.
\s
\r
i
\s
t
e
s
t
p
i
x
r
o
t
\r
o
&
>
.
\s
\r
:
&
>
.
\s
\r
l
1
2
8
\r
:
&
>
.
\s
\r
i
\s
t
e
s
t
p
i
x
t
r
o
t
\r
o
&
>
.
\s
\r
:
&
>
.
\s
\r
l
1
2
8
\r
T
'
;
3
.
\r
O
r
i
g
i
n
a
l
\s
I
m
a
g
e
\r
T
'
;
1
/
\r
R
o
t
a
t
e
d
\s
I
m
a
g
e
\r
T
'
;
/
'
\r
R
e
c
t
i
f
i
e
d
\s
I
m
a
g
e
\r
D
%
3
3
3
\r
D
'
(
3
3
\r
D
%
0
1
3
\r
D
%
>
1
3
\r
D
&
(
1
3
\r
D
&
4
1
3
\r
D
&
;
1
3
\r
D
'
+
1
3
\r
D
%
,
/
,
\r
D
%
4
/
,
\r
D
%
;
/
,
\r
D
&
#
/
,
\r
D
&
+
/
,
\r
D
&
3
/
,
\r
D
&
;
/
,
\r
D
'
#
/
,
\r
:
'
#
.
<
\r
.
w
r
\s
t
e
s
t
p
l
o
t
s
6
\r
:
0
\s
,
$
\r
i
\s
t
e
s
t
p
i
x
\r
:
0
\s
,
$
\r
l
1
2
8
\r
:
0
\s
,
$
\r
i
\s
t
e
s
t
p
i
x
x
m
a
g
\r
o
0
\s
,
$
\r
:
0
\s
,
$
\r
l
1
2
8
\r
:
0
\s
,
$
\r
i
\s
t
e
s
t
p
i
x
t
x
m
a
g
\r
o
0
\s
,
$
\r
:
0
\s
,
$
\r
l
1
2
8
\r
T
'
;
3
.
\r
O
r
i
g
i
n
a
l
\s
I
m
a
g
e
\r
T
'
;
1
/
\r
X
-
M
a
g
n
i
f
i
e
d
\s
I
m
a
g
e
\r
T
'
;
/
'
\r
R
e
c
t
i
f
i
e
d
\s
I
m
a
g
e
\r
D
%
3
3
3
\r
D
'
(
3
3
\r
D
%
0
1
3
\r
D
%
>
1
3
\r
D
&
(
1
3
\r
D
&
4
1
3
\r
D
&
;
1
3
\r
D
'
+
1
3
\r
D
%
,
/
,
\r
D
%
4
/
,
\r
D
%
;
/
,
\r
D
&
#
/
,
\r
D
&
+
/
,
\r
D
&
3
/
,
\r
D
&
;
/
,
\r
D
'
#
/
,
\r
:
'
#
/
,
\r
.
w
r
\s
t
e
s
t
p
l
o
t
s
6
\r
:
0
\s
,
$
\r
i
\s
t
e
s
t
p
i
x
\r
:
0
\s
,
$
\r
l
1
2
8
\r
:
0
\s
,
$
\r
i
\s
t
e
s
t
p
i
x
y
m
a
g
\r
o
0
\s
,
$
\r
:
0
\s
,
$
\r
l
1
2
8
\r
:
0
\s
,
$
\r
i
\s
t
e
s
t
p
i
x
t
y
m
a
g
\r
o
0
\s
,
$
\r
:
0
\s
,
$
\r
l
1
2
8
\r
T
'
;
3
.
\r
O
r
i
g
i
n
a
l
\s
I
m
a
g
e
\r
T
'
;
1
/
\r
Y
-
M
a
g
n
i
f
i
e
d
\s
I
m
a
g
e
\r
T
'
;
/
'
\r
R
e
c
t
i
f
i
e
d
\s
I
m
a
g
e
\r
D
%
3
3
3
\r
D
'
(
3
3
\r
D
%
0
1
3
\r
D
%
>
1
3
\r
D
&
(
1
3
\r
D
&
4
1
3
\r
D
&
;
1
3
\r
D
'
+
1
3
\r
D
%
,
/
,
\r
D
%
4
/
,
\r
D
%
;
/
,
\r
D
&
#
/
,
\r
D
&
+
/
,
\r
D
&
3
/
,
\r
D
&
;
/
,
\r
D
'
#
/
,
\r
:
'
#
/
,
\r
.
w
r
\s
t
e
s
t
p
l
o
t
s
6
\r
:
0
\s
,
$
\r
i
\s
t
e
s
t
p
i
x
\r
:
'
#
.
<
\r
l
1
2
8
\r
o
'
#
.
<
\r
:
'
#
.
<
\r
i
\s
t
e
s
t
p
i
x
a
r
b
1
\r
o
'
#
.
<
\r
:
'
#
.
<
\r
l
1
2
8
\r
:
'
#
.
<
\r
i
\s
t
e
s
t
p
i
x
t
a
r
b
1
\r
o
'
#
.
<
\r
:
'
#
.
<
\r
l
1
2
8
\r
T
'
;
3
.
\r
O
r
i
g
i
n
a
l
\s
I
m
a
g
e
\r
T
'
;
1
/
\r
S
h
i
f
t
e
d
\s
&\s
R
o
t
a
t
e
d
\s
I
m
a
g
e
\r
T
'
;
/
'
\r
R
e
c
t
i
f
i
e
d
\s
I
m
a
g
e
\r
D
%
3
3
3
\r
D
'
(
3
3
\r
D
%
0
1
3
\r
D
%
>
1
3
\r
D
&
(
1
3
\r
D
&
4
1
3
\r
D
&
;
1
3
\r
D
'
+
1
3
\r
D
%
,
/
,
\r
D
%
4
/
,
\r
D
%
;
/
,
\r
D
&
#
/
,
\r
D
&
+
/
,
\r
D
&
3
/
,
\r
D
&
;
/
,
\r
D
'
#
/
,
\r
:
'
$
/
>
\r
.
w
r
\s
t
e
s
t
p
l
o
t
s
6
\r
:
0
\s
,
$
\r
i
\s
t
e
s
t
p
i
x
\r
:
'
#
.
<
\r
l
1
2
8
\r
o
'
#
.
<
\r
:
'
#
.
<
\r
i
\s
t
e
s
t
p
i
x
a
r
b
2
\r
o
'
#
.
<
\r
:
'
#
.
<
\r
l
1
2
8
\r
:
'
#
.
<
\r
i
\s
t
e
s
t
p
i
x
t
a
r
b
2
\r
o
'
#
.
<
\r
:
'
#
.
<
\r
l
1
2
8
\r
T
'
;
3
.
\r
O
r
i
g
i
n
a
l
\s
I
m
a
g
e
\r
T
'
;
1
/
\r
S
h
i
f
t
e
d
,
\s
R
o
t
a
t
e
d
\s
&
\s
S
c
a
l
e
d
\r
T
'
;
/
'
\r
R
e
c
t
i
f
i
e
d
\s
I
m
a
g
e
\r
D
%
3
3
3
\r
D
'
(
3
3
\r
D
%
0
1
3
\r
D
%
>
1
3
\r
D
&
(
1
3
\r
D
&
4
1
3
\r
D
&
;
1
3
\r
D
'
+
1
3
\r
D
%
,
/
,
\r
D
%
4
/
,
\r
D
%
;
/
,
\r
D
&
#
/
,
\r
D
&
+
/
,
\r
D
&
3
/
,
\r
D
&
;
/
,
\r
D
'
#
/
,
\r
:
'
$
/
>
\r
.
w
r
\s
t
e
s
t
p
l
o
t
s
6
\r
:
0
\s
,
$
\r
i
\s
t
e
s
t
p
i
x
t
a
r
b
3
\r
:
'
#
.
<
\r
l
1
2
8
\r
:
'
#
.
<
\r
i
\s
t
e
s
t
p
i
x
\r
o
'
#
.
<
\r
:
'
#
.
<
\r
l
1
2
8
\r
T
'
;
3
.
\r
R
e
c
t
i
f
i
e
d
\s
I
m
a
g
e
\r
T
'
;
1
/
\r
O
r
i
g
i
n
a
l
\s
I
m
a
g
e
\r
D
%
3
3
3
\r
D
'
(
3
3
\r
D
%
0
1
3
\r
D
%
>
1
3
\r
D
&
(
1
3
\r
D
&
4
1
3
\r
D
&
;
1
3
\r
D
'
+
1
3
\r
:
'
$
/
>
\r
.
w
r
\s
t
e
s
t
p
l
o
t
s
6
\r
:
0
\s
,
$
\r
i
\s
t
e
s
t
p
i
x
t
a
r
b
4
\r
:
'
#
.
<
\r
l
1
2
8
\r
:
'
#
.
<
\r
i
\s
t
e
s
t
p
i
x
\r
o
'
#
.
<
\r
:
'
#
.
<
\r
l
1
2
8
\r
T
'
;
3
.
\r
R
e
c
t
i
f
i
e
d
\s
I
m
a
g
e
\r
T
'
;
1
/
\r
O
r
i
g
i
n
a
l
\s
I
m
a
g
e
\r
D
%
3
3
3
\r
D
'
(
3
3
\r
D
%
0
1
3
\r
D
%
>
1
3
\r
D
&
(
1
3
\r
D
&
4
1
3
\r
D
&
;
1
3
\r
D
'
+
1
3
\r
:
'
$
/
>
\r
.
w
r
\s
t
e
s
t
p
l
o
t
s
6
\r
:
0
\s
,
$
\r
i
\s
t
e
s
t
p
i
x
t
a
r
b
5
\r
:
'
#
.
<
\r
l
1
2
8
\r
:
'
#
.
<
\r
i
\s
t
e
s
t
p
i
x
\r
o
'
#
.
<
\r
:
'
#
.
<
\r
l
1
2
8
\r
T
'
;
3
.
\r
R
e
c
t
i
f
i
e
d
\s
I
m
a
g
e
\r
T
'
;
1
/
\r
O
r
i
g
i
n
a
l
\s
I
m
a
g
e
\r
D
%
3
3
3
\r
D
'
(
3
3
\r
D
%
0
1
3
\r
D
%
>
1
3
\r
D
&
(
1
3
\r
D
&
4
1
3
\r
D
&
;
1
3
\r
D
'
+
1
3
\r
:
'
$
/
>
\r
.
w
r
\s
t
e
s
t
p
l
o
t
s
6
\r
:
0
\s
,
$
\r
i
\s
t
e
s
t
p
i
x
t
a
r
b
6
\r
:
'
#
.
<
\r
l
1
2
8
\r
:
'
#
.
<
\r
i
\s
t
e
s
t
p
i
x
\r
o
'
#
.
<
\r
:
'
#
.
<
\r
l
1
2
8
\r
T
'
;
3
.
\r
R
e
c
t
i
f
i
e
d
\s
I
m
a
g
e
\r
T
'
;
1
/
\r
O
r
i
g
i
n
a
l
\s
I
m
a
g
e
\r
D
%
3
3
3
\r
D
'
(
3
3
\r
D
%
0
1
3
\r
D
%
>
1
3
\r
D
&
(
1
3
\r
D
&
4
1
3
\r
D
&
;
1
3
\r
D
'
+
1
3
\r
:
'
$
/
>
\r
.
w
r
\s
t
e
s
t
p
l
o
t
s
6
\r
:
0
\s
,
$
\r
i
\s
t
e
s
t
p
i
x
t
a
r
b
7
\r
:
'
#
.
<
\r
l
1
2
8
\r
:
'
#
.
<
\r
i
\s
t
e
s
t
p
i
x
\r
o
'
#
.
<
\r
:
'
#
.
<
\r
l
1
2
8
\r
T
'
;
3
.
\r
R
e
c
t
i
f
i
e
d
\s
I
m
a
g
e
\r
T
'
;
1
/
\r
O
r
i
g
i
n
a
l
\s
I
m
a
g
e
\r
D
%
3
3
3
\r
D
'
(
3
3
\r
D
%
0
1
3
\r
D
%
>
1
3
\r
D
&
(
1
3
\r
D
&
4
1
3
\r
D
&
;
1
3
\r
D
'
+
1
3
\r
:
'
$
/
>
\r
.
w
r
\s
t
e
s
t
p
l
o
t
s
6
\r
:
0
\s
,
$
\r
i
\s
t
e
s
t
p
i
x
t
a
r
b
8
\r
:
'
#
.
<
\r
l
1
2
8
\r
:
'
#
.
<
\r
i
\s
t
e
s
t
p
i
x
\r
o
'
#
.
<
\r
:
'
#
.
<
\r
l
1
2
8
\r
T
'
;
3
.
\r
R
e
c
t
i
f
i
e
d
\s
I
m
a
g
e
\r
T
'
;
1
/
\r
O
r
i
g
i
n
a
l
\s
I
m
a
g
e
\r
D
%
3
3
3
\r
D
'
(
3
3
\r
D
%
0
1
3
\r
D
%
>
1
3
\r
D
&
(
1
3
\r
D
&
4
1
3
\r
D
&
;
1
3
\r
D
'
+
1
3
\r
:
'
$
/
>
\r
.
w
r
\s
t
e
s
t
p
l
o
t
s
6
\r
q
'
$
/
>
\r
cl\s<\sreg.cl\n
contour\stestpix\sdev=stdvdm\n
contour\starb2_1\sdev=stdvdm\n
contour\starb2_2\sdev=stdvdm\n
contour\starb2_3\sdev=stdvdm\n
contour\starb2_4\sdev=stdvdm\n
imdelete\stestpix*.fits,tarb2*.fits\sver-\n
delete\sgmap*\n
print\s("-------\sEnd\sof\sTest\sPart\s6\s--------",>>\s"testlog6")\n
stty\splayback=test7.images\n    #comment out this line to stop test here
#stty\sclear\slogin\n            #uncomment this line to stop test here
