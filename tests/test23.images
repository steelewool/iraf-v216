\O=NOAO/IRAF V2.11BETA dbell@tribble Wed 12:59:08 11-Apr-97
\T=xgterm
\G=xgterm
print\s("---------------\sTEST\sLOG\s23:\s---------------",>>\s"testlog23")\n
print\s("",>>\s"testlog23")\n
print\s("\s\s\s\sTest\sPart\s23:\sIMCOORDS\stasks\s-\sV2.11\smods)",>>\s"testlog23")\n
print\s("",>>\s"testlog23")\n

if\s(access\s("coords"))\sdelete\scoords\n
\s\s\s\s;\n
print\s("13:29:47.297\s\s47:13:37.52\s\s327.50\s\s410.38",>>\s"coords")\n
print\s("13:29:37.406\s\s47:09:09.18\s\s465.50\s\s\s62.10",>>\s"coords")\n
print\s("13:29:38.700\s\s47:13:36.23\s\s442.01\s\s409.65",>>\s"coords")\n
print\s("13:29:55.424\s\s47:10:05.15\s\s224.35\s\s131.20",>>\s"coords")\n
print\s("13:30:01.816\s\s47:12:58.79\s\s134.37\s\s356.33",>>\s"coords")\n

print\s("",>>\s"testlog23")\n
print\s("*********\sccmap\s*********",>>\s"testlog23")\n
unlearn\sccmap\shedit\n
imcopy\sdev$pix\simcoordstest.001\s>>\stestlog23\n
hedit\simcoordstest.001\sepoch\s1987.26\sverify-\s>>\stestlog23\n
ccmap\scoords\scoords.db\simage=imcoordstest.001\sxcol=3\sycol=4\s\
lngcol=1\slatcol=2\s>>\stestlog23\n
x
/
-
,
&
\s
\s
\s
\s
/
-
1
/
>
>
\r
r
/
-
,
&
\s
\s
\s
\s
/
-
1
/
>
>
\r
y
/
-
,
&
\s
\s
\s
\s
/
-
1
/
>
>
\r
s
/
-
,
&
\s
\s
\s
\s
/
-
1
/
>
>
\r
g
/
-
,
&
\s
\s
\s
\s
/
-
1
/
>
>
\r
l
/
-
,
&
\s
\s
\s
\s
/
-
1
/
>
>
\r
q
/
-
,
&
\s
\s
\s
\s
/
-
1
/
>
>
\r
type\scoords.db\s>>\stestlog23\n

delete\scoords.db\n
ccmap\scoords\scoords.db\simage=imcoordstest.001\sresults=STDOUT\sxcol=3\s\
ycol=4\slngcol=1\slatcol=2\srefpoint=user\slngref=13:27:46.9\s\
latref=47:27:16\srefsystem=b1950.0\sinter-\s>>\stestlog23\n
type\scoords.db\s>>\stestlog23\n

delete\scoords.db\n
ccmap\scoords\scoords.db\simage=imcoordstest.001\sresults=STDOUT\sxcol=3\s\
ycol=4\slngcol=1\slatcol=2\srefpoint=user\slngref=RA\slatref=DEC\s\
refsystem=EPOCH\sinter-\s>>\stestlog23\n
type\scoords.db\s>>\stestlog23\n


print\s("",>>\s"testlog23")\n
print\s("*********\sccsetwcs\s*********",>>\s"testlog23")\n
unlearn\sccsetwcs\n
ccsetwcs\simcoordstest.001\scoords.db\simcoordstest.001\s>>\stestlog23\n
imhead\simcoordstest.001\slong+\s>>\stestlog23\n

print\s("",>>\s"testlog23")\n
print\s("*********\sskyctran\s*********",>>\s"testlog23")\n
unlearn\sskyctran\n
skyctran\scoords\sSTDOUT\s"imcoordstest.001\slog"\s"imcoordstest.001\sworld"\s\
lngcol=3\slatcol=4\strans+\s>>\stestlog23\n
imcopy\sdev$pix\simcoordstest.002\n
ccsetwcs\simcoordstest.002\s""\sxref=318.735\syref=273.900\s\
lngref=13:29:48.129\slatref=47:11:53.37\sxmag=.764\symag=.767\s\
xrot=180.890\syrot=1.042\n
skyctran\scoords\sSTDOUT\s"imcoordstest.002\slog"\s"imcoordstest.002\sworld"\s\
lngcol=3\slatcol=4\strans+\s>>\stestlog23\n

print\s("",>>\s"testlog23")\n
print\s("*********\scctran\s*********",>>\s"testlog23")\n
unlearn\scctran\n
delete\scoords.db\n
ccmap\scoords\scoords.db\sxcol=3\sycol=4\slngcol=1\slatcol=2\sinter-\s>>\stestlog23\n
cctran\scoords\sSTDOUT\scoords.db\scoords\sxcol=3\sycol=4\s\
lngformat=%0.3h\slatformat=%0.2h\s>>\stestlog23\n
cctran\scoords\sSTDOUT\scoords.db\scoords\sxcol=1\sycol=2\sforward-\s>>\stestlog23\n
cctran\scoords\sSTDOUT\s""\sxcol=3\sycol=4\slngformat=%0.3h\s\
latformat=%0.2h\sxref=318.735\syref=273.900\slngref=13:29:48.129\s\
latref=47:11:53.37\sxmag=.764\symag=.767\sxrot=180.890\syrot=1.042\s\
>>\stestlog23\n
cctran\scoords\sSTDOUT\s""\sxcol=1\sycol=2\s\
xref=318.735\syref=273.900\slngref=13:29:48.129\s\
latref=47:11:53.37\sxmag=.764\symag=.767\sxrot=180.890\syrot=1.042\s\
forward-\s>>\stestlog23\n

print\s("",>>\s"testlog23")\n
print\s("*********\simcctran\s*********",>>\s"testlog23")\n
unlearn\simcctran\n
imcopy\simcoordstest.001\simcoordstest.003\n
imcctran\simcoordstest.003\sB1950.0\s>>\stestlog23\n
imhead\simcoordstest.003\slong+\s>>\stestlog23\n
imcopy\simcoordstest.001\simcoordstest.004\n
imcctran\simcoordstest.004\sgalactic\s>>\stestlog23\n
imhead\simcoordstest.004\slong+\s>>\stestlog23\n

print\s("",>>\s"testlog23")\n
print\s("*********\swcsctran\s*********",>>\s"testlog23")\n
unlearn\swcsctran\n
wcsctran\scoords\sSTDOUT\simcoordstest.001\sworld\slogical\sunits="h\sn"\s\
formats="%8.3f\s%0.3f"\s>>\stestlog23\n

print\s("",>>\s"testlog23")\n
print\s("*********\swcsedit\s*********",>>\s"testlog23")\n
unlearn\swcsedit\n
wcsedit\simcoordstest.001\scd\s0.0\s2\s1\s>>\stestlog23\n
wcsedit\simcoordstest.001\scd\s0.0\s1\s2\s>>\stestlog23\n
wcsedit\simcoordstest.001\scrval\s47.85\s2\s>>\stestlog23\n
imhead\simcoordstest.001\slong+\s>>\stestlog23\n

print\s("",>>\s"testlog23")\n
print\s("*********\swcsreset\s*********",>>\s"testlog23")\n
unlearn\swcsreset\n
wcsreset\simcoordstest.001\sworld\s>>\stestlog23\n
imhead\simcoordstest.001\slong+\s>>\stestlog23\n
imshift\simcoordstest.001\simcoordstest.001\s1.23\s-4.56\n
wcsreset\simcoordstest.001\sphysical\n
imhead\simcoordstest.001\slong+\s>>\stestlog23\n


print\s("",>>\s"testlog23")\n
print\s("*********\sccxymatch\s*********",>>\s"testlog23")\n
ccxymatch\sm51b.coo.1\sm51b.gsc\sm51b.mat.1\s1.0\s3.0\slngcol=2\slatcol=4\s\
>>\stestlog23\n
type\sm51b.mat.1\s>>\stestlog23\n

imdel\simcoordstest.00?.*\n

print\s("------\sEnd\sof\sTest\sPart\s23\s------",>>\s"testlog23")\n
stty\splayback=test24.images\n      #comment out this line to stop test here
#stty\sclear\slogin\n              #uncomment this line to stop test here
