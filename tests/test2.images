\T=vt640
\G=vt640
print\s("----------------------\sTEST\sLOG\s2\s--------------------------",>>
\s"testlog2")\n
print\s("",>>\s"testlog2")\n
time\s>>\stestlog2\n
print\s("\s\s\s\s\sTest\sPart\s2\s:\sCONVOLVE\sFMEDIAN\sFMODE\s",>>\s"testlog2")\n
set\sstdvdm\s=\stestplots2\n
unlearn\sconvolve\n
print\s("Testing\sConvolve",>>\s"testlog2")\n
convolve\sbrick\scnv1\s"-1.\s-1.\s-1.;\s0.\s0.\s0.;\s1.\s1.\s1.;"\n
hedit\scnv1\stitle\s"Convolve\sBRICK\swith\scommand\sline\skernel"\sver-\n
surface\scnv1\sdev=stdvdm\n
convolve\sbrick\scnv2\skernel\n
hedit\scnv2\stitle\s"Convolve\sBRICK\swith\sfile\skernel"\sver-\n
surface\scnv2\sdev=stdvdm\n
convolve\sbrick\scnv3\skernel\sbound="constant"\sconst=1.\n
hedit\scnv3\stitle\s"Convolve\sBRICK\sbound=const=1."\sver-\n
surface\scnv3\sdev=stdvdm\n
convolve\sbrick2\scnv4\skernel\sbound=reflect\n
hedit\scnv4\stitle\s"Convolve\sBRICK2\swith\sbound=reflect"\sver-\n
surface\scnv4\sdev=stdvdm\n
convolve\sbrick2\scnv5\skernel\sbound=wrap\n
hedit\scnv5\stitle\s"Convolve\sBRICK2\swith\sbound=wrap"\sver-\n
surface\scnv5\sdev=stdvdm\n
convolve\sbrick\scnv6\s"-1.\s-1.\s-1.@\s0.\s0.\s0.@\s1.\s1.\s1."\srow_d="@"\n
hedit\scnv6\stitle\s"Convolve\sBRICK\swith\srow_delim=@"\sver-\n
surface\scnv6\sdev=stdvdm\n
implot\scnv1\n
:
0
\s
,
$
\r
c
2
1
\r
:
0
\s
,
$
\r
y
\s
-
3
.
5
\s
3
.
5
\r
o
0
\s
,
$
\r
:
0
\s
,
$
\r
i
\s
b
r
i
c
k
\r
:
0
\s
,
$
\r
c
2
1
\r
:
0
\s
,
$
\r
.
w
r
\s
t
e
s
t
p
l
o
t
s
2
\r
:
0
\s
,
$
\r
i
\s
c
n
v
2
\r
:
0
\s
,
$
\r
c
2
1
\r
o
0
\s
,
$
\r
:
0
\s
,
$
\r
i
\s
b
r
i
c
k
\r
:
0
\s
,
$
\r
c
2
1
\r
:
0
\s
,
$
\r
.
w
r
\s
t
e
s
t
p
l
o
t
s
2
\r
:
0
\s
,
$
\r
i
\s
c
n
v
3
\r
:
0
\s
,
$
\r
c
2
1
\r
:
0
\s
,
$
\r
i
\s
b
r
i
c
k
\r
o
0
\s
,
$
\r
:
0
\s
,
$
\r
c
2
1
\r
:
0
\s
,
$
\r
.
w
r
\s
t
e
s
t
p
l
o
t
s
2
\r
:
0
\s
,
$
\r
i
\s
c
n
v
4
\r
:
0
\s
,
$
\r
c
2
1
\r
o
0
\s
,
$
\r
:
0
\s
,
$
\r
i
\s
b
r
i
c
k
2
\r
:
0
\s
,
$
\r
c
2
1
\r
:
0
\s
,
$
\r
.
w
r
\s
t
e
s
t
p
l
o
t
s
2
\r
:
0
\s
,
$
\r
i
\s
c
n
v
5
\r
:
0
\s
,
$
\r
c
2
1
\r
o
0
\s
,
$
\r
:
0
\s
,
$
\r
i
\s
b
r
i
c
k
2
\r
:
0
\s
,
$
\r
c
2
1
\r
:
0
\s
,
$
\r
.
w
r
\s
t
e
s
t
p
l
o
t
s
2
\r
:
0
\s
,
$
\r
i
\s
c
n
v
6
\r
:
0
\s
,
$
\r
c
2
1
\r
o
0
\s
,
$
\r
:
0
\s
,
$
\r
i
\s
b
r
i
c
k
\r
:
0
\s
,
$
\r
c
2
1
\r
:
0
\s
,
$
\r
.
w
r
\s
t
e
s
t
p
l
o
t
s
2
\r
q
0
\s
,
$
\r
imdelete\scnv*.fits\n
unlearn\sfmedian\n
print\s("Testing\sFmedian",>>"testlog2")\n
fmedian\sbrick\sfmdn1\s3\s3\n
hedit\sfmdn1\stitle\s"3x3\sfmedian\sof\sBRICK;\sbound=nearest"\sver-\n
surface\sfmdn1\sdev=stdvdm\n
fmedian\sbrick\sfmdn2\s3\s3\sbound="constant"\sconst=1.\n
hedit\sfmdn2\stitle\s"3x3\sfmedian\sof\sBRICK;\sbound=const=1."\sver-\n
surface\sfmdn2\sdev=stdvdm\n
fmedian\sbrick2\sfmdn3\s3\s3\sbound="reflect"\n
hedit\sfmdn3\stitle\s"3x3\sfmedian\sof\sBRICK2;\sbound=reflect"\sver-\n
surface\sfmdn3\sdev=stdvdm\n
fmedian\sbrick2\sfmdn4\s3\s3\sbound="wrap"\n
hedit\sfmdn4\stitle\s"3x3\sfmedian\sof\sBRICK2;\sbound=wrap"\sver-\n
surface\sfmdn4\sdev=stdvdm\n
fmedian\sbrick2\sfmdn5\s3\s3\sunmap-\n
hedit\sfmdn5\stitle\s"3x3\sfmedian\sof\sBRICK2;\sunmap-"\sver-\n
fmedian\sbrick2\sfmdn6\s3\s3\sunmap-\shmin=-20000\shmax=20000\n
hedit\sfmdn6\stitle\s\\\n
"3x3\sfmedian\sof\sBRICK2;\sunmap-\shmin=-20000,\shmax=20000"\sver-\n
fmedian\sdev$pix[*:4,*:4]\sfmdn7\s3\s3\szmin=0\szmax=500\n
hedit\sfmdn7\stitle\s\\\n
"3x3\sfmedian\sof\sDEV$PIX[*:4,*:4]\szmin=0,\szmax=500"\sver-\n
implot\sfmdn5\n
:
0
\s
,
$
\r
y
\s
-
3
5
0
0
0
\s
3
5
0
0
0
\r
:
0
\s
,
$
\r
i
\s
f
m
d
n
6
\r
o
0
\s
,
$
\r
:
0
\s
,
$
\r
l
\s
2
6
\r
:
0
\s
,
$
\r
.
w
r
\s
t
e
s
t
p
l
o
t
s
2
\r
:
0
\s
,
$
\r
i
\s
f
m
d
n
7
\r
:
0
\s
,
$
\r
l
6
4
\r
:
0
\s
,
$
\r
y
\s
-
1
0
0
\s
6
0
0
\r
:
0
\s
,
$
\r
.
w
r
\s
t
e
s
t
p
l
o
t
s
2
\r
q
0
\s
,
$
\r
imdelete\sfmdn*.fits\n
unlearn\sfmode\n
print\s("Testing\sFmode",>>\s"testlog2")\n
fmode\sbrick\sfmd1\s3\s3\n
hedit\sfmd1\stitle\s"3x3\sfmode\sof\sBRICK;\sbound=nearest"\sver-\n
surface\sfmd1\sdev=stdvdm\n
fmode\sbrick\sfmd2\s3\s3\sbound="constant"\sconst=1.\n
hedit\sfmd2\stitle\s"3x3\sfmode\sof\sBRICK;\sbound=const=1."\sver-\n
surface\sfmd2\sdev=stdvdm\n
fmode\sbrick2\sfmd3\s3\s3\sbound="reflect"\n
hedit\sfmd3\stitle\s"3x3\sfmode\sof\sBRICK2;\sbound=reflect"\sver-\n
surface\sfmd3\sdev=stdvdm\n
fmode\sbrick2\sfmd4\s3\s3\sbound="wrap"\n
hedit\sfmd4\stitle\s"3x3\sfmode\sof\sBRICK2;\sbound=wrap"\sver-\n
surface\sfmd4\sdev=stdvdm\n
fmode\sbrick2\sfmd5\s3\s3\sunmap-\n
hedit\sfmd5\stitle\s"3x3\sfmode\sof\sBRICK2;\sunmap-"\sver-\n
fmode\sbrick2\sfmd6\s3\s3\sunmap-\shmin=-20000\shmax=20000\n
hedit\sfmd6\stitle\s\\\n
"3x3\sfmode\sof\sBRICK2;\sunmap-\shmin=-20000,\shmax=20000"\sver-\n
fmode\sdev$pix[*:4,*:4]\sfmd7\s3\s3\szmin=0\szmax=500\n
hedit\sfmd7\stitle\s\\\n
"3x3\sfmode\sof\sDEV$PIX[*:4,*:4]\szmin=0,\szmax=500"\sver-\n
implot\sfmd5\n
:
0
\s
,
$
\r
y
\s
-
3
5
0
0
0
\s
3
5
0
0
0
\r
:
0
\s
,
$
\r
i
\s
f
m
d
6
\r
o
0
\s
,
$
\r
:
0
\s
,
$
\r
l
\s
2
6
\r
:
0
\s
,
$
\r
.
w
r
\s
t
e
s
t
p
l
o
t
s
2
\r
:
0
\s
,
$
\r
i
\s
f
m
d
7
\r
:
0
\s
,
$
\r
l
6
4
\r
:
0
\s
,
$
\r
y
\s
-
1
0
0
\s
6
0
0
\r
:
0
\s
,
$
\r
.
w
r
\s
t
e
s
t
p
l
o
t
s
2
\r
q
0
\s
,
$
\r
print\s("-----\sEnd\sof\sTest\sPart\s2\s-----",>>\s"testlog2")\n
imdelete\sfmd*.fits\n
stty\splayback=test3.images\n    #comment out this line to stop test here
#stty\sclear\slogin\n            #uncomment this line to stop test here
